{"version":3,"sources":["images/start-btn.png","utils/LazyImage.js","components/MovieCard.js"],"names":["LazyImage","src","alt","className","placeHolder","useState","imageSrc","setImageSrc","imageRef","setImageRef","useEffect","observer","didCancel","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","threshold","rootMargin","observe","unobserve","ref","MovieCard","movie","runningTrailerID","useSelector","state","disptch","useDispatch","date","TrailerURLUploadDate","split","year","parseInt","month","showPlay","EventCode","movieImageStyle","cursor","onClick","runTrailer","style","EventImageUrl","EventTitle","startBtnImage","ratings","wtsPerc","wtsCount"],"mappings":"iOAAe,G,MAAA,IAA0B,uC,qBCQ1B,SAASA,EAAT,GAA6C,IAAxBC,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,IAAKC,EAAa,EAAbA,UACpCC,EAAc,qHACpB,EAAgCC,mBAASD,GAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,qBAAhC,mBAAOG,EAAP,KAAiBC,EAAjB,KAsCA,OAnCAC,qBAAU,WACN,IAAIC,EACAC,GAAY,EA0BhB,OAxBIJ,GAAYF,IAAaF,IACrBS,sBACAF,EAAW,IAAIE,sBACX,SAAAC,GACIA,EAAQC,SAAQ,SAAAC,IAEPJ,IAAcI,EAAMC,kBAAoB,GAAKD,EAAME,iBACpDX,EAAYN,QAIxB,CACIkB,UAAW,IACXC,WAAY,SAIXC,QAAQb,GAGjBD,EAAYN,IAIb,WACHW,GAAY,EAERD,GAAYA,EAASW,WAAWX,EAASW,UAAUd,OAIxD,qBAAKL,UAAWA,EAAWoB,IAAKd,EAAaR,IAAKK,EAAUJ,IAAKA,ICnC7D,SAASsB,EAAT,GAA+B,IAAVC,EAAS,EAATA,MAC1BC,EAAmBC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,oBAC9CG,EAAUC,cAGVC,EAAON,EAAMO,qBAAqBC,MAAM,KACxCC,EAAOC,SAASJ,EAAK,IACrBK,EAHS,CAAC,GAAI,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAG5ED,SAASJ,EAAK,KAE7BM,GAAWX,GAAoBA,GAAoBD,EAAMa,UACzDC,EAAkBF,EAAW,CAAEG,OAAQ,WAAc,CAAEA,OAAQ,WAErE,OACI,sBAA2BrC,UAAU,QAAQsC,QAAS,kBAAMZ,EAAQa,YAAWjB,EAAMa,aAArF,UACI,sBAAKnC,UAAU,cAAcwC,MAAOJ,EAApC,UACI,sBAAKpC,UAAU,aAAf,UACI,sBAAMA,UAAU,QAAhB,SAAyBiC,IACzB,sBAAMjC,UAAU,OAAhB,SAAwB+B,OAG5B,cAAClC,EAAD,CAAWC,IAAKwB,EAAMmB,cAAezC,UAAU,QAAQD,IAAKuB,EAAMoB,aAEjER,GAAY,qBAAKpC,IAAK6C,EAAe5C,IAAI,OAAOC,UAAU,cAE3D,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,cAAf,UACI,cAAC,IAAD,CAAWA,UAAU,iBACrB,gCAAMsB,EAAMsB,QAAQC,QAApB,UAEJ,qBAAK7C,UAAU,cAAf,SACI,sBAAKA,UAAU,aAAf,UAA6BsB,EAAMsB,QAAQE,SAA3C,oBAKZ,qBAA2B9C,UAAU,aAArC,SACKsB,EAAMoB,YADDpB,EAAMa,aAtBVb,EAAMa","file":"static/js/3.3c37ad0c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/start-btn.400c37b2.png\";","import React, { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * A reusable image component to enable lazyloadng over the images\r\n * @param src - actual image url\r\n * @param alt - alt data to be displayd\r\n * @param className - to add styles\r\n */\r\nexport default function LazyImage({ src, alt, className }) {\r\n    const placeHolder = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=\";\r\n    const [imageSrc, setImageSrc] = useState(placeHolder);\r\n    const [imageRef, setImageRef] = useState();\r\n\r\n    // useEffect to keep watch on component if its in the view and set the actual src\"\r\n    useEffect(() => {\r\n        let observer;\r\n        let didCancel = false;\r\n\r\n        if (imageRef && imageSrc === placeHolder) {\r\n            if (IntersectionObserver) {\r\n                observer = new IntersectionObserver(\r\n                    entries => {\r\n                        entries.forEach(entry => {\r\n                            // when image is visible in the viewport + rootMargin\r\n                            if (!didCancel && (entry.intersectionRatio > 0 || entry.isIntersecting)) {\r\n                                setImageSrc(src);\r\n                            }\r\n                        });\r\n                    },\r\n                    {\r\n                        threshold: 0.01,\r\n                        rootMargin: \"75%\",\r\n                    },\r\n                );\r\n\r\n                observer.observe(imageRef);\r\n            } else {\r\n                // Old browsers fallback\r\n                setImageSrc(src);\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            didCancel = true;\r\n            // on component unmount, we remove the listner\r\n            if (observer && observer.unobserve) observer.unobserve(imageRef);\r\n        };\r\n    });\r\n\r\n    return <img className={className} ref={setImageRef} src={imageSrc} alt={alt} />;\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { MdThumbUp } from \"react-icons/md\";\r\n\r\nimport \"../styles/MovieCard.css\";\r\nimport startBtnImage from \"../images/start-btn.png\";\r\nimport { runTrailer } from \"../store/actions\";\r\nimport LazyImage from \"../utils/LazyImage\";\r\n\r\n/**\r\n * The Movie card component called from Dashboard.\r\n * Also dispatches action to redux store to set the running Trailer\r\n * on click of any Movie card\r\n */\r\nexport default function MovieCard({ movie }) {\r\n    const runningTrailerID = useSelector(state => state.runningTrailerID);\r\n    const disptch = useDispatch();\r\n\r\n    const months = [\"\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n    const date = movie.TrailerURLUploadDate.split(\"-\");\r\n    const year = parseInt(date[0]);\r\n    const month = months[parseInt(date[1])];\r\n\r\n    const showPlay = runningTrailerID && runningTrailerID == movie.EventCode ? false : true;\r\n    const movieImageStyle = showPlay ? { cursor: \"pointer\" } : { cursor: \"default\" };\r\n\r\n    return (\r\n        <div key={movie.EventCode} className=\"movie\" onClick={() => disptch(runTrailer(movie.EventCode))}>\r\n            <div className=\"movie-image\" style={movieImageStyle}>\r\n                <div className=\"movie-date\">\r\n                    <span className=\"month\">{month}</span>\r\n                    <span className=\"year\">{year}</span>\r\n                </div>\r\n\r\n                <LazyImage src={movie.EventImageUrl} className=\"image\" alt={movie.EventTitle} />\r\n\r\n                {showPlay && <img src={startBtnImage} alt=\"play\" className=\"start-btn\" />}\r\n\r\n                <div className=\"movie-rating\">\r\n                    <div className=\"flex-evenly\">\r\n                        <MdThumbUp className=\"thumbsup-ico\" />\r\n                        <div>{movie.ratings.wtsPerc}%</div>\r\n                    </div>\r\n                    <div className=\"flex-evenly\">\r\n                        <div className=\"vote-count\">{movie.ratings.wtsCount} votes</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div key={movie.EventCode} className=\"movie-name\">\r\n                {movie.EventTitle}\r\n            </div>\r\n        </div>\r\n    );\r\n    //#endregion\r\n}\r\n"],"sourceRoot":""}